<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CPF - Vérifiez votre éligibilité</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f9f9f9; color: #333; }
    header { background: #003366; color: #fff; padding: 30px 20px; text-align: center; }
    header h1 { margin: 0; font-size: 2rem; }
    .intro { padding: 20px; max-width: 900px; margin: auto; line-height: 1.6; }
    .formations-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
    .formation-card { background: #fff; padding: 16px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .formation-card img { width: 100%; border-radius: 6px; height: 150px; object-fit: cover; }
    .formation-card h3 { margin-top: 12px; color: #003366; }
    .formation-card p { font-size: 0.95rem; }
    form { background: #fff; padding: 30px; max-width: 600px; margin: 40px auto; border-radius: 10px; box-shadow: 0 3px 20px rgba(0,0,0,0.1); }
    form h2 { text-align: center; color: #003366; margin-bottom: 20px; }
    label { font-weight: 600; display: block; margin-top: 15px; }
    input, select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ccc; border-radius: 6px; }
    button { margin-top: 20px; background: #e30613; color: white; padding: 14px; width: 100%; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; }
    button:hover { background: #c00511; }
    .thank-you { display: none; text-align: center; color: green; font-weight: bold; padding: 20px; }
    footer { background: #003366; color: white; padding: 20px; text-align: center; margin-top: 50px; }
  </style>
</head>
<body>

<header>
  <h1>Mon Compte Formation - Vérifiez votre éligibilité</h1>
</header>

<div class="intro">
  <p>Le Compte Personnel de Formation (CPF) permet à toute personne active d'acquérir des droits à la formation tout au long de sa vie professionnelle. Vous pouvez les utiliser pour financer des formations qualifiantes, certifiantes ou diplômantes.</p>
  <p>Nous vous accompagnons dans votre projet : langues, bureautique, numérique, bilan de compétences, petite enfance, couture, pâtisserie, et bien plus.</p>
</div>

<div class="formations-grid" id="formations"></div>

<form id="cpfForm">
  <h2>Formulaire de demande CPF</h2>
  <label for="nom">Nom complet *</label>
  <input type="text" id="nom" name="nom" required>

  <label for="email">Email *</label>
  <input type="email" id="email" name="email" required>

  <label for="telephone">Téléphone *</label>
  <input type="tel" id="telephone" name="telephone" required>

  <label for="formation">Formation souhaitée *</label>
  <select id="formation" name="formation" required></select>

  <button type="submit">Envoyer ma demande</button>
  <div class="thank-you" id="thankYouMessage">Merci pour votre demande ! Vous serez contacté très rapidement.</div>
</form>

<footer>
  <p>&copy; 2025 Centre de Formation Agréé | CPF, Qualiopi, Datadock | Contact : contact@formation-pro.fr</p>
</footer>

<script>
  const formations = [
    { titre: "Anglais", desc: "Améliorez votre anglais pro.", img: "https://cdn.pixabay.com/photo/2016/02/19/11/53/english-1209649_960_720.jpg" },
    { titre: "Espagnol", desc: "Apprenez l'espagnol pour voyager.", img: "https://cdn.pixabay.com/photo/2017/01/20/00/30/flags-1993661_960_720.jpg" },
    { titre: "Italien", desc: "Langue de culture et d'affaires.", img: "https://cdn.pixabay.com/photo/2018/01/29/09/48/italy-3116755_960_720.jpg" },
    { titre: "Allemand", desc: "Pour élargir vos opportunités pro.", img: "https://cdn.pixabay.com/photo/2014/04/03/10/16/germany-310492_960_720.png" },
    { titre: "Excel", desc: "Devenez expert en Excel.", img: "https://cdn.pixabay.com/photo/2017/06/09/09/14/excel-2389217_960_720.jpg" },
    { titre: "Word", desc: "Documents professionnels maîtrisés.", img: "https://cdn.pixabay.com/photo/2015/12/08/00/28/microsoft-1080600_960_720.jpg" },
    { titre: "PowerPoint", desc: "Présentations impactantes.", img: "https://cdn.pixabay.com/photo/2016/11/29/02/30/presentation-1869711_960_720.jpg" },
    { titre: "Wordpress", desc: "Créez votre propre site web.", img: "https://cdn.pixabay.com/photo/2015/03/26/09/40/wordpress-690438_960_720.jpg" },
    { titre: "Photoshop", desc: "Bases de la création graphique.", img: "https://cdn.pixabay.com/photo/2016/03/27/07/08/photoshop-1280537_960_720.jpg" },
    { titre: "Illustrator", desc: "Illustrations vectorielles.", img: "https://cdn.pixabay.com/photo/2015/09/14/16/36/illustrator-938071_960_720.jpg" },
    { titre: "IA (intelligence artificielle)", desc: "Découverte de l'IA.", img: "https://cdn.pixabay.com/photo/2018/02/15/13/23/artificial-intelligence-3158251_960_720.jpg" },
    { titre: "Portugais", desc: "Langue utile pour le voyage.", img: "https://cdn.pixabay.com/photo/2015/04/10/00/41/brazil-715135_960_720.jpg" },
    { titre: "Technicien administratif", desc: "Compétences en secrétariat.", img: "https://cdn.pixabay.com/photo/2017/08/10/07/30/business-2616284_960_720.jpg" },
    { titre: "Couture et mode", desc: "Apprenez la création de vêtements.", img: "https://cdn.pixabay.com/photo/2017/08/07/20/35/sewing-2603071_960_720.jpg" },
    { titre: "Bilan de compétence", desc: "Faites le point sur votre carrière.", img: "https://cdn.pixabay.com/photo/2017/05/10/20/28/business-2309518_960_720.jpg" },
    { titre: "Pâtisserie", desc: "Techniques de la pâtisserie française.", img: "https://cdn.pixabay.com/photo/2017/05/08/13/26/cake-2305192_960_720.jpg" },
    { titre: "Petite enfance", desc: "Travailler avec les enfants.", img: "https://cdn.pixabay.com/photo/2016/01/19/17/39/child-1149032_960_720.jpg" }
  ];

  const grid = document.getElementById('formations');
  const select = document.getElementById('formation');

  formations.forEach(f => {
    const card = document.createElement('div');
    card.className = 'formation-card';
    card.innerHTML = `
      <img src="${f.img}" alt="${f.titre}" />
      <h3>${f.titre}</h3>
      <p>${f.desc}</p>
    `;
    grid.appendChild(card);

    const opt = document.createElement('option');
    opt.value = f.titre;
    opt.textContent = f.titre;
    select.appendChild(opt);
  });

  document.getElementById('cpfForm').addEventListener('submit', async function (e) {
    e.preventDefault();
    const data = {
      nom: document.getElementById('nom').value,
      email: document.getElementById('email').value,
      telephone: document.getElementById('telephone').value,
      formation: document.getElementById('formation').value
    };

    try {
      await fetch("https://script.google.com/macros/s/AKfycbyPXA-SHsztdadlDlqY9tKCOgAqiTlX0TDsR_buW8Q/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      this.reset();
      document.getElementById('thankYouMessage').style.display = 'block';
    } catch (error) {
      alert("Erreur serveur. Veuillez réessayer plus tard.");
    }
  });
</script>

</body>
</html>
